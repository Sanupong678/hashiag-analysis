# ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Sentiment

## üìã ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç
1. [‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•](#‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)
2. [‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Sentiment](#‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå-sentiment)
3. [Terminal Output ‡πÅ‡∏•‡∏∞ Scripts](#terminal-output-‡πÅ‡∏•‡∏∞-scripts)

---

## üîÑ ‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

### 1. **‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏•‡∏±‡∏Å: Batch Data Processor**

‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ä‡πâ **Batch Data Processor** (`batch_data_processor.py`) ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏ã‡∏∂‡πà‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö **Async/Parallel** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:

1. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏´‡∏∏‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï**
   - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏à‡∏≤‡∏Å database ‡∏ß‡πà‡∏≤‡∏´‡∏∏‡πâ‡∏ô‡πÑ‡∏´‡∏ô‡πÄ‡∏Å‡πà‡∏≤‡∏Å‡∏ß‡πà‡∏≤ `update_interval_hours` (default: 2 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á)
   - ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏∏‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏•‡∏¢

2. **‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö Parallel (‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô)**
   - **Stock Info**: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏∏‡πâ‡∏ô (‡∏£‡∏≤‡∏Ñ‡∏≤, market cap, volume) ‡∏à‡∏≤‡∏Å Yahoo Finance
   - **News Articles**: ‡∏Ç‡πà‡∏≤‡∏ß‡∏à‡∏≤‡∏Å Yahoo Finance (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 500 ‡∏Ç‡πà‡∏≤‡∏ß‡∏ï‡πà‡∏≠‡∏´‡∏∏‡πâ‡∏ô)
   - **Reddit Posts**: Posts ‡∏à‡∏≤‡∏Å database (Reddit bulk processor ‡∏î‡∏∂‡∏á‡∏°‡∏≤‡πÉ‡∏´‡πâ)

3. **Deduplication (‡∏Å‡∏£‡∏≠‡∏á‡∏Ç‡πà‡∏≤‡∏ß‡∏ã‡πâ‡∏≥)**
   - ‡πÉ‡∏ä‡πâ MD5 hash ‡∏Ç‡∏≠‡∏á `title + url + publishedAt` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πà‡∏≤‡∏ß‡∏ã‡πâ‡∏≥
   - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡πÉ‡∏ô memory cache ‡πÅ‡∏•‡∏∞ database

4. **‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á Database**
   - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏∏‡πâ‡∏ô‡πÉ‡∏ô collection `stocks`
   - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πà‡∏≤‡∏ß‡πÉ‡∏ô collection `post_yahoo`
   - Reddit posts ‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÇ‡∏î‡∏¢ Reddit bulk processor ‡πÅ‡∏¢‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏´‡∏≤‡∏Å

### 2. **Scheduled Updater (‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)**

**Scheduled Updater** (`scheduled_updater.py`) ‡∏à‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏∏‡∏Å **30 ‡∏ô‡∏≤‡∏ó‡∏µ** (0.5 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á)

#### ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:
- ‡∏£‡∏±‡∏ô‡πÉ‡∏ô **background thread** (‡πÑ‡∏°‡πà block Flask API)
- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏´‡∏∏‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πà‡∏≤‡∏Å‡∏ß‡πà‡∏≤ 30 ‡∏ô‡∏≤‡∏ó‡∏µ (incremental update)
- ‡πÉ‡∏ä‡πâ Reddit ‡∏à‡∏≤‡∏Å database ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô (‡πÑ‡∏°‡πà‡∏î‡∏∂‡∏á‡πÉ‡∏´‡∏°‡πà)

### 3. **Reddit Bulk Processor**

**Reddit Bulk Processor** (`reddit_bulk_processor.py`) ‡∏î‡∏∂‡∏á Reddit posts ‡∏ó‡∏∏‡∏Å **5 ‡∏ô‡∏≤‡∏ó‡∏µ** ‡∏à‡∏≤‡∏Å subreddits:
- `wallstreetbets`
- `stocks`
- `investing`
- `options`
- `pennystocks`

#### ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:
- ‡∏î‡∏∂‡∏á posts ‡πÅ‡∏•‡∏∞ comments ‡∏à‡∏≤‡∏Å subreddits
- Extract ticker symbols ‡∏à‡∏≤‡∏Å posts
- ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå sentiment ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ï‡πà‡∏≠ post/comment
- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á collection `post_reddit` ‡πÅ‡∏•‡∏∞ `post_reddit_comments`

### 4. **Data Sources**

#### Yahoo Finance (‡∏´‡∏•‡∏±‡∏Å)
- **Stock Info**: ‡∏£‡∏≤‡∏Ñ‡∏≤, market cap, volume, PE ratio
- **News**: ‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 500 ‡∏Ç‡πà‡∏≤‡∏ß‡∏ï‡πà‡∏≠‡∏´‡∏∏‡πâ‡∏ô
- **‡∏ü‡∏£‡∏µ, ‡πÄ‡∏£‡πá‡∏ß, ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥**

#### Reddit
- **Posts**: ‡∏à‡∏≤‡∏Å subreddits ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏´‡∏∏‡πâ‡∏ô
- **Comments**: Comments ‡∏à‡∏≤‡∏Å posts (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö sentiment)
- **Extract Tickers**: ‡∏´‡∏≤ ticker symbols ‡∏à‡∏≤‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤

---

## üß† ‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Sentiment

### 1. **Sentiment Analyzer**

‡πÉ‡∏ä‡πâ **VADER (Valence Aware Dictionary and sEntiment Reasoner)** ‡πÄ‡∏õ‡πá‡∏ô base ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏° **Financial-specific boosters**

#### Financial Boosters:
```python
{
    'bullish': 1.5,
    'bearish': -1.5,
    'rally': 1.0,
    'crash': -2.0,
    'moon': 2.0,
    'rocket': 2.0,
    'dump': -2.0,
    'pump': 1.5,
    'to the moon': 2.5,
    'market crash': -3.0,
    ...
}
```

#### Sentiment Score Range:
- **Compound Score**: -5.0 ‡∏ñ‡∏∂‡∏á +5.0 (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö -500% ‡∏ñ‡∏∂‡∏á +500%)
- **Label**: `positive`, `negative`, ‡∏´‡∏£‡∏∑‡∏≠ `neutral`

### 2. **Time-Weighted Sentiment Analysis**

‡πÉ‡∏ä‡πâ **Exponential Decay Weighting** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ç‡πà‡∏≤‡∏ß‡πÉ‡∏´‡∏°‡πà‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Ç‡πà‡∏≤‡∏ß‡πÄ‡∏Å‡πà‡∏≤:

#### ‡∏™‡∏π‡∏ï‡∏£:
```
weight = 2^(-age_hours / half_life_hours)
```

#### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:
- ‡∏Ç‡πà‡∏≤‡∏ß‡πÉ‡∏´‡∏°‡πà (0 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á) = weight **1.0** (100%)
- ‡∏Ç‡πà‡∏≤‡∏ß‡πÄ‡∏Å‡πà‡∏≤ 24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á = weight **0.5** (50%)
- ‡∏Ç‡πà‡∏≤‡∏ß‡πÄ‡∏Å‡πà‡∏≤ 48 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á = weight **0.25** (25%)
- ‡∏Ç‡πà‡∏≤‡∏ß‡πÄ‡∏Å‡πà‡∏≤ 72 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á = weight **0.125** (12.5%)

#### Max Age:
- ‡∏Ç‡πà‡∏≤‡∏ß‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πà‡∏≤‡∏Å‡∏ß‡πà‡∏≤ **7 ‡∏ß‡∏±‡∏ô (168 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á)** ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡∏î‡∏≠‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

#### Recent Positive Override:
- ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ç‡πà‡∏≤‡∏ß‡∏ö‡∏ß‡∏Å‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î (24 ‡∏ä‡∏°.) ‡∏à‡∏∞‡∏•‡∏î‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏Ç‡πà‡∏≤‡∏ß‡∏•‡∏ö‡πÄ‡∏Å‡πà‡∏≤ (3+ ‡∏ß‡∏±‡∏ô) ‡∏•‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ **10-30%**

### 3. **Enhanced Sentiment Aggregator**

**Enhanced Sentiment Aggregator** ‡∏£‡∏ß‡∏° sentiment ‡∏à‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏´‡∏•‡πà‡∏á:
- News articles (Yahoo Finance)
- Reddit posts ‡πÅ‡∏•‡∏∞ comments
- Market confirmation (‡∏£‡∏≤‡∏Ñ‡∏≤‡∏´‡∏∏‡πâ‡∏ô, volume)
- Previous sentiment (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á)

### 4. **Sentiment Analysis Flow**

```
1. ‡∏î‡∏∂‡∏á‡∏Ç‡πà‡∏≤‡∏ß/Reddit posts
   ‚Üì
2. ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå sentiment ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ç‡πà‡∏≤‡∏ß/post (VADER + Financial boosters)
   ‚Üì
3. ‡πÉ‡∏ä‡πâ Time-Weighted Analysis (‡∏Ç‡πà‡∏≤‡∏ß‡πÉ‡∏´‡∏°‡πà‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤)
   ‚Üì
4. Enhanced Aggregation (‡∏£‡∏ß‡∏°‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏´‡∏•‡πà‡∏á + market confirmation)
   ‚Üì
5. ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å overallSentiment ‡∏•‡∏á database
```

---

## üíª Terminal Output ‡πÅ‡∏•‡∏∞ Scripts

### 1. **‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡πâ‡∏ß‡∏¢ `start_fetching.py`**

#### ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á:
```bash
python backend/scripts/start_fetching.py
```

#### Terminal Output:
```
======================================================================
üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡πà‡∏≤‡∏ß‡πÅ‡∏•‡∏∞ Reddit Posts
======================================================================

üìã ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏∏‡πâ‡∏ô...
‚úÖ ‡∏û‡∏ö 4,234 ‡∏´‡∏∏‡πâ‡∏ô

üìä ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô:
   üì∞ ‡∏Ç‡πà‡∏≤‡∏ß (post_yahoo): 125,432 ‡∏Ç‡πà‡∏≤‡∏ß
   üí¨ Reddit (post_reddit): 45,678 posts

üîÑ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡πà‡∏≤‡∏ß‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î (‡∏î‡∏∂‡∏á‡πÉ‡∏´‡∏°‡πà‡∏ñ‡πâ‡∏≤‡πÄ‡∏Å‡πà‡∏≤‡∏Å‡∏ß‡πà‡∏≤ 24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á)...
   ‚úÖ 1,234 ‡∏´‡∏∏‡πâ‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡πÉ‡∏´‡∏°‡πà: 500, ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï: 734)
   ‚è≠Ô∏è  3,000 ‡∏´‡∏∏‡πâ‡∏ô‡∏ñ‡∏π‡∏Å‡∏Ç‡πâ‡∏≤‡∏° (‡∏°‡∏µ‡∏Ç‡πà‡∏≤‡∏ß‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß)

üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...
   üìä ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡∏∏‡πâ‡∏ô: 1,234 ‡∏´‡∏∏‡πâ‡∏ô
   üì¶ Batch size: 50 ‡∏´‡∏∏‡πâ‡∏ô‡∏ï‡πà‡∏≠ batch
   üì∞ Yahoo: 500 ‡∏Ç‡πà‡∏≤‡∏ß‡∏ï‡πà‡∏≠‡∏´‡∏∏‡πâ‡∏ô (‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏ß‡∏±‡∏ô)
   üí¨ Reddit: üìÇ ‡πÉ‡∏ä‡πâ‡∏à‡∏≤‡∏Å database ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô (‡πÑ‡∏°‡πà‡∏î‡∏∂‡∏á‡πÉ‡∏´‡∏°‡πà) - ‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏ß‡πà‡∏≤ 5 ‡∏ô‡∏≤‡∏ó‡∏µ!
   ‚è±Ô∏è  ‡∏Ñ‡∏≤‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤ ~3-4 ‡∏ô‡∏≤‡∏ó‡∏µ ‚úÖ
======================================================================

‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πà‡∏≤‡∏ß [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100% (1234/1234)

======================================================================
‚úÖ ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô!
======================================================================

üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•:
   üì∞ ‡∏Ç‡πà‡∏≤‡∏ß‡∏ó‡∏µ‡πà‡∏î‡∏∂‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: 150,234 ‡∏Ç‡πà‡∏≤‡∏ß

üìã ‡∏à‡∏≤‡∏Å‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤:
   üì∞ Yahoo Finance: 150,234 ‡∏Ç‡πà‡∏≤‡∏ß
   üí¨ Reddit: 45,678 posts

üìà ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥:
   üìä ‡∏´‡∏∏‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡πà‡∏≤‡∏ß: 4,234 ‡∏´‡∏∏‡πâ‡∏ô
   üì∞ ‡∏Ç‡πà‡∏≤‡∏ß‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡∏´‡∏∏‡πâ‡∏ô: 35.5 ‡∏Ç‡πà‡∏≤‡∏ß
   ‚è±Ô∏è  ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ: 3.2 ‡∏ô‡∏≤‡∏ó‡∏µ
======================================================================
```

#### Options:
```bash
# Force refresh (‡∏î‡∏∂‡∏á‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏∏‡∏Å‡∏´‡∏∏‡πâ‡∏ô)
python backend/scripts/start_fetching.py --force-refresh

# ‡∏Ç‡πâ‡∏≤‡∏° Reddit (‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏ß‡πà‡∏≤)
python backend/scripts/start_fetching.py --skip-reddit

# ‡πÉ‡∏ä‡πâ Reddit ‡∏à‡∏≤‡∏Å database ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
python backend/scripts/start_fetching.py --reddit-from-db-only

# ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Reddit posts
python backend/scripts/start_fetching.py --reddit-limit 100
```

### 2. **Scheduled Updater (‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)**

‡πÄ‡∏°‡∏∑‡πà‡∏≠ Flask app ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô Scheduled Updater ‡∏à‡∏∞‡∏£‡∏±‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥:

#### Terminal Output:
```
üöÄ Starting scheduled updater (every 30 ‡∏ô‡∏≤‡∏ó‡∏µ)...
‚úÖ Background update thread started (‡πÑ‡∏°‡πà block Flask API)
‚úÖ Scheduler thread started - ‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏°‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

üîÑ Scheduled update (INCREMENTAL) started at 2024-01-15T10:30:00.000000

üìã ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏´‡∏∏‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï...

======================================================================
üìä ‡∏û‡∏ö 234 ‡∏´‡∏∏‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï (‡∏à‡∏≤‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î 4,234 ‡∏´‡∏∏‡πâ‡∏ô)
   ‚è∞ ‡∏´‡∏∏‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πà‡∏≤‡∏Å‡∏ß‡πà‡∏≤ 30 ‡∏ô‡∏≤‡∏ó‡∏µ
   üì∞ ‡∏Ñ‡∏≤‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤ ~11.7 ‡∏ô‡∏≤‡∏ó‡∏µ (‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡∏ï‡πà‡∏≠‡∏´‡∏∏‡πâ‡∏ô)
   üî¥ Reddit: ‡πÉ‡∏ä‡πâ‡∏à‡∏≤‡∏Å database ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô (Reddit bulk processor ‡∏î‡∏∂‡∏á‡∏°‡∏≤‡πÉ‡∏´‡πâ)
   üöÄ ‡∏£‡∏±‡∏ô‡πÉ‡∏ô background thread - Flask API ‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥
======================================================================

‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πà‡∏≤‡∏ß [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100% (234/234)

======================================================================
üéâ SCHEDULED UPDATE COMPLETED! üéâ
======================================================================
‚úÖ Scheduled update (INCREMENTAL) completed at 2024-01-15T10:35:00.000000
   üìä ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï 234 ‡∏´‡∏∏‡πâ‡∏ô
   ‚è∞ ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡∏à‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÉ‡∏ô‡∏≠‡∏µ‡∏Å 30 ‡∏ô‡∏≤‡∏ó‡∏µ
======================================================================
```

### 3. **Reddit Bulk Scheduler**

#### ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á:
```bash
python backend/scripts/start_reddit_bulk.py
```

#### Terminal Output:
```
======================================================================
üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏° Reddit Bulk Scheduler
======================================================================

üìã ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤:
   ‚è∞ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ó‡∏∏‡∏Å 5 ‡∏ô‡∏≤‡∏ó‡∏µ
   üìä Subreddits: wallstreetbets, stocks, investing, options, pennystocks
   üîç Extract tickers ‡∏à‡∏≤‡∏Å posts
   üí¨ ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå sentiment ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ï‡πà‡∏≠ post

üí° ‡∏Å‡∏î Ctrl+C ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏¢‡∏∏‡∏î

üîÑ Reddit bulk fetch started at 2024-01-15T10:00:00.000000
   üîç ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏∂‡∏á posts ‡∏à‡∏≤‡∏Å 5 subreddits (limit: 100 ‡∏ï‡πà‡∏≠ subreddit)
   üìä ‡∏£‡∏ß‡∏° 5 subreddits ‡∏ó‡∏µ‡πà popular ‡πÅ‡∏•‡∏∞ active ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
   ‚è∞ ‡∏î‡∏∂‡∏á posts ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å: 2024-01-15 09:55:00
   
   üí¨ Post abc123... ‡∏°‡∏µ 45 comments (‡∏î‡∏∂‡∏á‡∏°‡∏≤‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå sentiment)
   üîÑ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å 45 comments ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö post abc123...
   
   üì• ‡∏î‡∏∂‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î 487 posts ‡∏à‡∏≤‡∏Å 5 subreddits
   üí¨ ‡∏î‡∏∂‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î 12,345 comments (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö sentiment analysis!)
   
‚úÖ Reddit bulk fetch completed at 2024-01-15T10:05:00.000000
   üìä ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å 487 posts ‡πÅ‡∏•‡∏∞ 12,345 comments
   ‚è∞ ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡∏à‡∏∞‡∏î‡∏∂‡∏á‡πÉ‡∏ô‡∏≠‡∏µ‡∏Å 5 ‡∏ô‡∏≤‡∏ó‡∏µ
```

### 4. **Progress Bar**

‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏™‡∏î‡∏á **Progress Bar** ‡πÅ‡∏ö‡∏ö real-time:

```
‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πà‡∏≤‡∏ß [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë] 50% (617/1234)
```

- **Bar Length**: 50 characters
- **Prefix**: "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πà‡∏≤‡∏ß"
- **Show Total**: ‡πÅ‡∏™‡∏î‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡∏∏‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏∂‡∏á‡πÑ‡∏î‡πâ/‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

### 5. **Error Messages**

#### Retry Messages:
```
  ‚è≥ Retry 1/3 for AAPL (disk I/O error)...
  ‚è≥ Retry 2/3 for AAPL (network timeout)...
  ‚ö†Ô∏è Failed to fetch news for AAPL after 3 attempts: Connection timeout
```

#### Success Messages:
```
  ‚úÖ Fetched 45 news articles from Yahoo Finance
  ‚úÖ Using cached news for AAPL
  ‚è∞ Time-weighted sentiment: 0.234 (avg age: 12.5h)
```

### 6. **Flask API Logs**

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ API request:

```
üìä Aggregating data for AAPL...
  üìà Fetching stock data from Yahoo Finance...
  üì∞ Fetching news from Yahoo Finance (primary source)...
    ‚úÖ Using cached news for AAPL
    ‚úÖ Using cached sentiment for AAPL
  ‚úÖ Fetched 45 news articles from Yahoo Finance
```

---

## üìä ‡∏™‡∏£‡∏∏‡∏õ

### ‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
1. **Batch Processor** ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏∏‡πâ‡∏ô‡πÅ‡∏ö‡∏ö parallel (Stock Info, News, Reddit)
2. **Scheduled Updater** ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏∏‡∏Å 30 ‡∏ô‡∏≤‡∏ó‡∏µ
3. **Reddit Bulk Processor** ‡∏î‡∏∂‡∏á Reddit posts ‡∏ó‡∏∏‡∏Å 5 ‡∏ô‡∏≤‡∏ó‡∏µ
4. **Deduplication** ‡∏Å‡∏£‡∏≠‡∏á‡∏Ç‡πà‡∏≤‡∏ß‡∏ã‡πâ‡∏≥‡∏î‡πâ‡∏ß‡∏¢ MD5 hash

### ‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£ Sentiment:
1. **VADER Analyzer** + **Financial Boosters**
2. **Time-Weighted Analysis** (‡∏Ç‡πà‡∏≤‡∏ß‡πÉ‡∏´‡∏°‡πà‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤)
3. **Enhanced Aggregation** (‡∏£‡∏ß‡∏°‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏´‡∏•‡πà‡∏á + market confirmation)
4. **Sentiment Range**: -5.0 ‡∏ñ‡∏∂‡∏á +5.0

### Terminal Output:
- **Progress Bar** ‡πÅ‡∏ö‡∏ö real-time
- **‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•** ‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô (‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡πà‡∏≤‡∏ß, ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ)
- **Error Messages** ‡∏û‡∏£‡πâ‡∏≠‡∏° retry logic
- **Background Thread** ‡πÑ‡∏°‡πà block Flask API

---

## üîß Configuration

### Batch Processor:
- `days_back`: 7 ‡∏ß‡∏±‡∏ô (default)
- `update_interval_hours`: 2 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á (default)
- `batch_size`: 50 ‡∏´‡∏∏‡πâ‡∏ô‡∏ï‡πà‡∏≠ batch

### Scheduled Updater:
- `update_interval_hours`: 0.5 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á (30 ‡∏ô‡∏≤‡∏ó‡∏µ)

### Reddit Bulk Processor:
- `update_interval`: 5 ‡∏ô‡∏≤‡∏ó‡∏µ
- `subreddits`: 5 subreddits
- `limit_per_subreddit`: 100 posts

---

*‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠: 2024-01-15*

